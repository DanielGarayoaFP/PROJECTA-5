# REPTE: MALWARE I PROGRAMARI ANTIMALWARE

## Instruccions generals

### Molt important
- Poseu el **nom i cognoms** al document i **copieu l'enunciat**.
- Poseu les **preguntes ressaltades** i la **resposta a sota**.
- **Responeu a totes les preguntes**, si cal cercant informació:
  - Als apunts del mòdul  
  - Als manuals de les aplicacions  
  - Als fitxers d'ajuda i comandes `man`  
  - I, com a últim recurs, a Internet  

- **Abans de començar**, feu un *snapshot* o **instantània** de la màquina virtual:
  - Nom: `Abans de (l'acció que aneu a fer)...`
  - Això permetrà fer proves sense risc.
- **En acabar**, revertiu la instantània per tornar a l’estat inicial.
- **Comproveu sempre** que els canvis de configuració produeixen l’efecte desitjat mitjançant les proves necessàries.

---

## Referències i ajuda
- Apunts de la secció de *malware* (teoria)
- Win 11 ISO disponible a la comuna
- Mesures davant atacs de ransomware i negociació:
  - https://www.lmgsecurity.com/download/655360/
  - https://www.groupsense.io/services/ransomware-negotiation

---

## Objectius
L’objectiu d’aquesta pràctica és:
- Entendre com funciona el *malware*
- Treballar amb programari per protegir-se del *malware*

---

## Activitats

### Verificar el funcionament d’un programari antimalware

El navegador web de Windows incorpora una detecció de *malware* i llocs potencialment perillosos anomenada **SmartScreen**.  
Altres navegadors (Chrome, Firefox, Opera, etc.) també disposen de tecnologies similars.

<img width="826" height="282" alt="2026-01-13 18_39_27-T08  S&#39;està executant  - Oracle VirtualBox" src="https://github.com/user-attachments/assets/fe437471-c07f-4941-91c1-b2a2ef1b5f23" />

Per fer proves:
- **Cal desactivar temporalment SmartScreen**

#### Desactivar SmartScreen
- Explica com desactivar SmartScreen i la protecció del navegador.
- Explica com tornar a activar-les un cop acabades les proves.

---

### Prova amb el test EICAR

1. Accediu a https://www.eicar.org i seguiu les instruccions per obtenir el fitxer de prova **EICAR**.
2. Pot ser necessari:
   - Desactivar temporalment el detector del navegador
   - Desactivar temporalment l’antivirus de Windows  
   **Expliqueu com es fa.**
3. Activeu l’antimalware escollit i comproveu si detecta el fitxer EICAR.
4. Torneu a **desactivar la detecció en temps real**.
5. Torneu a baixar el fitxer EICAR i **amagueu-lo dins arxius comprimits** amb diferents formats (WinZip, WinRAR o 7zip).
6. Torneu a activar l’antimalware i indiqueu si detecta l’amenaça en cada cas:

- `zip`
- `tar`
- `7zip`

---

## Sistemes de protecció de Windows 11

### Protecció antivirus i contra amenaces
- Quines proteccions incorpora Windows 11 en aquesta secció?

### Control d’aplicacions i navegador
- Quines opcions hi ha disponibles?

### Protecció contra ransomware
- Investigueu quines opcions específiques ofereix Windows 11 per protegir-se contra ransomware.

---

## Prova pràctica de protecció contra ransomware

1. Afegiu diversos arxius `.txt` dins la carpeta **Documents**.
2. Desactiveu la protecció contra ransomware (si està activada).
3. Descarregueu el script de prova:
   - https://github.com/JoelGMSec/PSRansom
4. Com que Windows 11 restringeix scripts de PowerShell:
   
<img width="833" height="416" alt="2026-01-13 18_41_09-T08  S&#39;està executant  - Oracle VirtualBox" src="https://github.com/user-attachments/assets/940d7576-fbac-431c-bb28-a5938a8dcf00" />

   
   - Obriu PowerShell com a administrador
   - Executeu:
     ```powershell
     Set-ExecutionPolicy -ExecutionPolicy unrestricted
     ```
6. Obriu PowerShell a la carpeta on heu descarregat l’script i executeu:
   ```powershell
   .\PSRansom.ps1 -e C:\Users\%USERNAME%\Documents -s 127.0.0.1 -p 80 -x
